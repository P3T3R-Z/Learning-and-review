const path=require("path"),MiniCssExtractPlugin=require("mini-css-extract-plugin"),OptimizeCSSAssetsPlugin=require("optimize-css-assets-webpack-plugin"),UglifyJsPlugin=require("uglifyjs-webpack-plugin");module.exports={entry:"./src/index.js",mode:"production",output:{filename:"[name].[hash].js",path:path.resolve(__dirname,"dist")},module:{noParse:/lodash/,rules:[{test:/\.(sc|c|sa)ss$/,use:[MiniCssExtractPlugin.loader,{loader:"css-loader",options:{sourceMap:!0}},{loader:"postcss-loader",options:{ident:"postcss",sourceMap:!0,plugins:()=>[require("autoprefixer")({browsers:"last 5 version"})]}},{loader:"sass-loader",options:{sourceMap:!0}}],exclude:/node_modules/}]},plugins:[new MiniCssExtractPlugin({filename:"[name].[hash].css",chunkFilename:"[id].[hash].css"})],optimization:{minimizer:[new OptimizeCSSAssetsPlugin,new UglifyJsPlugin({include:/\/src/,cache:!0,exclude:/\/node_modules/})]}};